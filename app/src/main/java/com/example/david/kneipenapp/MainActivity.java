package com.example.david.kneipenapp;import android.os.Bundle;import android.support.v7.app.AppCompatActivity;import android.support.v7.widget.LinearLayoutManager;import android.support.v7.widget.RecyclerView;import android.view.Menu;import android.view.MenuItem;import android.view.View;import android.widget.AdapterView;import android.widget.ArrayAdapter;import android.widget.Spinner;import android.widget.TextView;import java.util.ArrayList;public class MainActivity extends AppCompatActivity {    private LokalDatasource datasource = new LokalDatasource();    private ArrayList<Lokal> lokallist = datasource.getLokalList();    private RecyclerView mRecyclerView;    private RecyclerView.Adapter mAdapter;    private RecyclerView.LayoutManager mLayoutManager;    private Spinner mSpinner;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        mSpinner = (Spinner) findViewById(R.id.spinner);        mSpinner.setOnItemSelectedListener(new Spinner.OnItemSelectedListener() {            @Override            public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {                TextView selected = (TextView) view;                String starText = (String) selected.getText();                int stars;                if (starText.equals("Kein Filter")){                    stars = 0;                } else {                    stars = Integer.parseInt(starText.substring(0, 1));                }                lokallist = datasource.filter(stars);                recreateAdapter();            }            @Override            public void onNothingSelected(AdapterView<?> parent) {                return;            }        });        ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(this,R.array.stars, android.R.layout.simple_spinner_item);        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);        mSpinner.setAdapter(adapter);        mRecyclerView = (RecyclerView) findViewById(R.id.my_recycler_view);        mRecyclerView.setHasFixedSize(true);        mLayoutManager = new LinearLayoutManager(this);        mRecyclerView.setLayoutManager(mLayoutManager);        mAdapter = new KneipenAdapter(lokallist);        mRecyclerView.setAdapter(mAdapter);    }    public void recreateAdapter(){        mAdapter = new KneipenAdapter(lokallist);        mRecyclerView.setAdapter(mAdapter);    }    @Override    public boolean onCreateOptionsMenu(Menu menu) {        // Inflate the menu; this adds items to the action bar if it is present.        getMenuInflater().inflate(R.menu.menu_main, menu);        return true;    }    @Override    public boolean onOptionsItemSelected(MenuItem item) {        // Handle action bar item clicks here. The action bar will        // automatically handle clicks on the Home/Up button, so long        // as you specify a parent activity in AndroidManifest.xml.        int id = item.getItemId();        //noinspection SimplifiableIfStatement        if (id == R.id.action_settings) {            return true;        }        return super.onOptionsItemSelected(item);    }}